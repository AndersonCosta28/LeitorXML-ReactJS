(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(20)},20:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(11),r=a.n(o),c=a(2),i=a(1);a(6);function m(){return l.a.createElement("div",{className:"tela"},l.a.createElement("div",{className:"cloader"})," ")}function u(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),u=Object(c.a)(r,2),d=u[0],E=u[1],f=Object(i.f)();return d?m():l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"form"},l.a.createElement("h1",null,"Formul\xe1rio de envio"),l.a.createElement("form",{onSubmit:function(e){E(!0),e.preventDefault();var t=new FormData;t.append("file",a),fetch("https://leitorxml-backend.herokuapp.com/uploads",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){sessionStorage.setItem("DadosDoBackEnd",JSON.stringify(e)),f("/relatorio")}).catch(function(e){alert(e)}).finally(function(){E(!1)})}},l.a.createElement("input",{type:"file",name:"file",id:"",accept:".zip",onChange:function(e){return o(e.target.files[0])}}),l.a.createElement("input",{type:"submit",value:"Enviar",id:"button"}))),l.a.createElement("div",{className:"tela"},l.a.createElement(s,null)))}function s(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Recomenda\xe7\xf5es"),l.a.createElement("ul",null,l.a.createElement("li",null,"Escolher arquivo .zip, extens\xe3o .rar e demais n\xe3o s\xe3o compat\xedveis."),l.a.createElement("li",null,"Os arquivos XML devem estar na raiz do arquivo compactado, n\xe3o havendo subpastas."),l.a.createElement("li",null,"Aproveite! \u263a")))}var d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format;function E(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Data"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Totais"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.data},l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,d(e.total)))})),l.a.createElement("tfoot",null)))}function f(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"titulo"},"Lista de arquivos n\xe3o validados"),l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Arquivo"),l.a.createElement("th",null,"Motivos"))),l.a.createElement("tbody",null,e.erros.map(function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.nome),l.a.createElement("td",null,e.motivo))})),l.a.createElement("tfoot",null))))}function b(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Numero"),l.a.createElement("th",null,"Modelo"),l.a.createElement("th",null,"Serie"),l.a.createElement("th",null,"Chave"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Valor"),l.a.createElement("th",null,"Data"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.numero},l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.status),l.a.createElement("td",null,d(e.valor)),l.a.createElement("td",null,e.data))})),l.a.createElement("tfoot",null)))}function S(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("ul",null,l.a.createElement("li",null,e.Dados.quantidade," Notas validados no total de ",d(e.Dados.total)),l.a.createElement("li",null,e.erros.length," Notas com erros"),l.a.createElement("li",null,d(e.Dados.icms)," ICMS")))}function g(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"CFOP"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.cfop},l.a.createElement("td",null,e.cfop),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,d(e.total)))})),l.a.createElement("tfoot",null)))}var h=a(9),p=a(8),v=a.n(p),z=a(12),x=a.n(z);function y(){v.a.vfs=x.a.pdfMake.vfs;var e=JSON.parse(sessionStorage.getItem("DadosDoBackEnd")),t=Object(c.a)(e,5),a=(t[0],t[1]),n=t[2],l=t[3],o=(t[4],JSON.parse(sessionStorage.getItem("DadosDoBackEnd"))[1],{text:"Desenvolvido por Anderson Costa",link:"https://github.com/Mert1s/",color:"blue"}),r=a.map(function(e){return[{text:"".concat(e.numero),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.modelo),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.serie),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.chave),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.status),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(e.valor)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.data),fontSize:9,margin:[0,2,0,2]}]}),i=l.map(function(e){return[{text:"".concat(e.cfop),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(e.total)),fontSize:9,margin:[0,2,0,2]}]}),m=[[{text:"".concat(n.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.total)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.icms)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.outro)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.frete)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.substituicao)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.ipi)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(n.desconto)),fontSize:9,margin:[0,2,0,2]}]],u={info:{title:"Relat\xf3rio de XML",author:"Anderson Costa",subject:"Relat\xf3rio detalhado de importa\xe7\xe3o de XML ",keywords:"Relat\xf3rio XML contabilidade vendas compras"},pageSize:"A4",PageMargins:[5,5,5,5],footer:function(e,t){return{text:["P\xe1gina ".concat(e.toString()," de ").concat(t)," - emitido em ".concat(new Date(Date.now()).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})," - "),o],fontSize:8,margin:[15,15,15,15]}},content:[{text:"Relat\xf3rio",alignment:"center",fontSize:30,margin:[5,5,5,5]},[{text:"Todas as Notas",fontSize:14,margin:[5,5,5,5]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"Serie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Status",style:"tableHeader",fontSize:9},{text:"Valor",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9,alignment:"center"}]].concat(Object(h.a)(r))},layout:"lightHorizontalLines"}],{unbreakable:!0,stack:[[{text:"SOMA POR CFOP",fontSize:14,margin:[5,5,5,15]},{table:{headerRows:1,widths:["auto","auto","auto"],body:[[{text:"CFOP",style:"tableHeader",fontSize:9},{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9}]].concat(Object(h.a)(i))},layout:"headerLineOnly"}],[{text:"Totalizadores",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9},{text:"ICMS",style:"tableHeader",fontSize:9},{text:"Outro",style:"tableHeader",fontSize:9},{text:"Frete",style:"tableHeader",fontSize:9},{text:"Substituicao",style:"tableHeader",fontSize:9},{text:"IPI",style:"tableHeader",fontSize:9},{text:"Desconto",style:"tableHeader",fontSize:9}]].concat(m)},layout:"headerLineOnly"}]]}]};v.a.createPdf(u).open()}function O(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),i=Object(c.a)(r,2),m=i[0],u=i[1],s=Object(n.useState)([]),d=Object(c.a)(s,2),h=d[0],p=d[1],v=Object(n.useState)([]),z=Object(c.a)(v,2),x=z[0],O=z[1],D=Object(n.useState)([]),N=Object(c.a)(D,2),j=N[0],w=N[1];return Object(n.useEffect)(function(){var e=JSON.parse(sessionStorage.getItem("DadosDoBackEnd")),t=Object(c.a)(e,5),a=t[0],n=t[1],l=t[2],r=t[3],i=t[4];o(a),p(n),O(l),u(r),w(i),console.log(i)},[]),l.a.createElement("div",null,l.a.createElement("h1",{className:"titulo"},l.a.createElement("a",{href:"/"},"P\xe1gina inicial")),l.a.createElement("div",{className:"row align-items-center",style:{marginTop:"3%"}},l.a.createElement(g,{Dados:m,estilo:"table1 col-4"}),l.a.createElement(S,{Dados:x,erros:j,estilo:"table1 col "}),l.a.createElement("div",{className:"table1 col"},l.a.createElement("input",{type:"button",value:"Gerar PDF",onClick:y}))),l.a.createElement("div",{className:"row align-items-center"},l.a.createElement(E,{Dados:a,estilo:"table1 col-4"}),l.a.createElement(b,{Dados:h,estilo:"table2 col"})),l.a.createElement("div",{className:"row align-items-center"},l.a.createElement(f,{erros:j,estilo:"table2 col"})))}var D=a(7);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(u,null)}),l.a.createElement(i.a,{path:"/relatorio",element:l.a.createElement(O,null)}),l.a.createElement(i.a,{path:"/loading",element:l.a.createElement(m,null)})))),document.getElementById("root"))},6:function(e,t,a){}},[[13,1,2]]]);
//# sourceMappingURL=main.892b69fb.chunk.js.map