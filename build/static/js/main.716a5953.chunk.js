(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){},184:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return s});var n=a(23),l=a.n(n),r=a(36),o=a(3),c=a(0),i=a.n(c),u=(a(349),a(63)),m=a(54);a(350);function s(t){var a=t.navigation,n=Object(c.useState)(!1),s=Object(o.a)(n,2),d=s[0],f=s[1],E=Object(c.useState)(""),b=Object(o.a)(E,2),v=b[0],S=b[1],h=Object(c.useState)(""),p=Object(o.a)(h,2),g=p[0],y=p[1];function x(){return(x=Object(r.a)(l.a.mark(function t(){var a,n,r,o,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a=Object(m.randomBytes)(16),n="1b4de2c5fd632cd8fc6bb176bb3f4bc3",r=Object(m.createCipheriv)("aes-256-ctr",n,a),"Teste",o=e.concat([r.update("Teste"),r.final()]),c=Object(m.createDecipheriv)("aes-256-ctr",n,a),e.concat([c.update(o),c.final()])}catch(l){console.error(l)}case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(c.useEffect)(function(){!function(){x.apply(this,arguments)}()},[]),d?Object(u.a)():i.a.createElement("div",{className:"telaLogin"},i.a.createElement("form",null,i.a.createElement("h1",{style:{textAlign:"center"}},"Seja bem-vindo"),i.a.createElement("div",{className:"d1"},i.a.createElement("label",{className:"l1"},"Usu\xe1rio:"),i.a.createElement("input",{type:"text",id:"username",name:"username",className:"i1",onChange:function(e){return S(e.target.value)}})),i.a.createElement("div",{className:"d1"},i.a.createElement("label",{className:"l1"},"Senha:"),i.a.createElement("input",{type:"password",id:"password",name:"username",className:"i1",onChange:function(e){return y(e.target.value)}})),i.a.createElement("div",{className:"d2"},i.a.createElement("a",{href:"/"},"Esqueci Senha"),i.a.createElement("input",{type:"submit",value:"Entrar",className:"i1",onClick:function(){return function(){f(!0);var e={usuario:v,senha:g},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("http://localhost:8080/auth/login",t).then(function(e){return e.json()}).then(function(e){if(!e.access_token)throw 403===e.statusCode?new Error("Usu\xe1rio inativo"):new Error(e.message);sessionStorage.setItem("token","Bearer "+e.access_token),a.navigate("Tela_Envio")}).catch(function(e){alert(e)}).finally(function(){f(!1)})}()}}))))}}).call(this,a(11).Buffer)},215:function(e,t,a){e.exports=a(378)},251:function(e,t){},253:function(e,t){},263:function(e,t){},265:function(e,t){},292:function(e,t){},294:function(e,t){},295:function(e,t){},300:function(e,t){},302:function(e,t){},308:function(e,t){},310:function(e,t){},329:function(e,t){},341:function(e,t){},344:function(e,t){},349:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(62),o=a.n(r),c=a(382),i=a(383),u=a(3),m=(a(113),a(63)),s=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format;function d(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Data"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Totais"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.data},l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,s(e.total)))})),l.a.createElement("tfoot",null)))}function f(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.estilo},l.a.createElement("h3",{className:"titulo"},"Arquivos n\xe3o validados"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Arquivo"),l.a.createElement("th",null,"Motivos"))),l.a.createElement("tbody",null,e.erros.map(function(e){return l.a.createElement("tr",{key:e.nome},l.a.createElement("td",null,e.nome),l.a.createElement("td",null,e.motivo))})),l.a.createElement("tfoot",null))))}function E(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("ul",null,l.a.createElement("li",null,e.Dados.quantidade," Notas validados no total de ",s(e.Dados.total)),l.a.createElement("li",null,e.erros.length," Notas com erros"),l.a.createElement("li",null,s(e.Dados.icms)," ICMS")))}function b(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"CFOP"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.cfop},l.a.createElement("td",null,e.cfop),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,s(e.total)))})),l.a.createElement("tfoot",null)))}var v=a(8),S=a(105),h=a.n(S),p=a(183),g=a.n(p);var y=a(70),x=a.n(y),z=x.a.ExcelFile,O=x.a.ExcelFile.ExcelSheet,N=x.a.ExcelFile.ExcelColumn;function j(e){var t=e.Dados;return l.a.createElement("div",{className:"App"},l.a.createElement(z,{filename:"Relatorio",element:l.a.createElement("button",null,"Baixar em EXCEL")},l.a.createElement(O,{data:t,name:"Relatorio"},function(e){return Object.keys(e[0]).filter(function(e){return!["desconto","data_recebimento","produto","emitente"].includes(e)})}(t).map(function(e){return l.a.createElement(N,{label:(t=e,t.substring(0,1).toUpperCase()+t.substring(1)),value:e,key:"numero"});var t}))),l.a.createElement("table",{id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",{key:"numero"},l.a.createElement("th",null,"numero"),l.a.createElement("th",null,"serie"),l.a.createElement("th",null,"modelo"),l.a.createElement("th",null,"chave"),l.a.createElement("th",null,"data"),l.a.createElement("th",null,"status"),l.a.createElement("th",null,"valor"),l.a.createElement("th",null,"ipi"),l.a.createElement("th",null,"vOutro"),l.a.createElement("th",null,"vFrete"),l.a.createElement("th",null,"vBCST"),l.a.createElement("th",null,"vST"),l.a.createElement("th",null,"vBC"),l.a.createElement("th",null,"vICMS"),l.a.createElement("th",null,"vPIS"),l.a.createElement("th",null,"vCOFINS"),l.a.createElement("th",null,"vTotTrib"))),l.a.createElement("tbody",null,t.map(function(e){return l.a.createElement("tr",{key:e.numero},l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.status),l.a.createElement("td",null,e.valor),l.a.createElement("td",null,e.ipi),l.a.createElement("td",null,e.vOutro),l.a.createElement("td",null,e.vFrete),l.a.createElement("td",null,e.vBCST),l.a.createElement("td",null,e.vST),l.a.createElement("td",null,e.vBC),l.a.createElement("td",null,e.vICMS),l.a.createElement("td",null,e.vPIS),l.a.createElement("td",null,e.vCOFINS),l.a.createElement("td",null,e.vTotTrib))}))))}function w(e,t){return l.a.createElement("div",null,l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"col"},l.a.createElement(E,{Dados:e[2],erros:e[4],estilo:"col "}),l.a.createElement("div",{style:{display:"inline-flex"}},l.a.createElement("div",{className:"Botao"},l.a.createElement("button",{title:"Gerar PDF",onClick:function(){return function(e,t,a,n){h.a.vfs=g.a.pdfMake.vfs;var l=n.map(function(e){return[{text:e.numero,fontSize:9,margin:[0,2,0,2]},{text:e.modelo,fontSize:9,margin:[0,2,0,2]},{text:e.serie,fontSize:9,margin:[0,2,0,2]},{text:e.chave,fontSize:9,margin:[0,2,0,2]},{text:e.descEvento,fontSize:9,margin:[0,2,0,2]},{text:e.cStat,fontSize:9,margin:[0,2,0,2]},{text:e.data,fontSize:9,margin:[0,2,0,2]}]}),r={text:"Desenvolvido por Anderson Costa",link:"https://github.com/Mert1s/",color:"blue"},o=e.map(function(e){return[{text:"".concat(e.numero),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.modelo),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.serie),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.chave),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.status),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(e.valor)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.data),fontSize:9,margin:[0,2,0,2]}]}),c=a.map(function(e){return[{text:"".concat(e.cfop),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(e.total)),fontSize:9,margin:[0,2,0,2]}]}),i=[[{text:"".concat(t.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.total)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.icms)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.outro)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.frete)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.substituicao)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.ipi)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(s(t.desconto)),fontSize:9,margin:[0,2,0,2]}]],u=[{text:"Todas as Notas",fontSize:14,margin:[5,5,5,5]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"Serie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Status",style:"tableHeader",fontSize:9},{text:"Valor",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9,alignment:"center"}]].concat(Object(v.a)(o))},layout:"lightHorizontalLines"}],m=[{text:"SOMA POR CFOP",fontSize:14,margin:[5,5,5,15]},{table:{headerRows:1,widths:["auto","auto","auto"],body:[[{text:"CFOP",style:"tableHeader",fontSize:9},{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9}]].concat(Object(v.a)(c))},layout:"headerLineOnly"}],d=[{text:"Totalizadores",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9},{text:"ICMS",style:"tableHeader",fontSize:9},{text:"Outro",style:"tableHeader",fontSize:9},{text:"Frete",style:"tableHeader",fontSize:9},{text:"Substituicao",style:"tableHeader",fontSize:9},{text:"IPI",style:"tableHeader",fontSize:9},{text:"Desconto",style:"tableHeader",fontSize:9}]].concat(i)},layout:"headerLineOnly"}],f={info:{title:"Relat\xf3rio de XML",author:"Anderson Costa",subject:"Relat\xf3rio detalhado de importa\xe7\xe3o de XML ",keywords:"Relat\xf3rio XML contabilidade vendas compras"},pageSize:"A4",PageMargins:[5,5,5,5],footer:function(e,t){return{text:["P\xe1gina ".concat(e.toString()," de ").concat(t)," - emitido em ".concat(new Date(Date.now()).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})," - "),r],fontSize:8,margin:[15,15,15,15]}},content:[{text:"Relat\xf3rio",alignment:"center",fontSize:30,margin:[5,5,5,5]},u,[{text:"Eventos",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"S\xe9rie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9},{text:"Descri\xe7\xe3o",style:"tableHeader",fontSize:9},{text:"Status",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9}]].concat(Object(v.a)(l))},layout:"headerLineOnly"}],{unbreakable:!0,stack:[m,d]}]};h.a.createPdf(f).open()}(e[1],e[2],e[3],e[5])}},"Gerar PDF")),l.a.createElement("div",{className:"Botao"},l.a.createElement(j,{Dados:e[1]})))),l.a.createElement("div",{className:"col table2"},l.a.createElement(b,{Dados:e[3]})),l.a.createElement("div",{className:"col table2"},l.a.createElement(d,{Dados:e[0]}))),l.a.createElement("div",{className:"row"},l.a.createElement(f,{erros:e[4],estilo:"table1 col"})))}function C(e){e.navigation;var t=Object(n.useState)(),a=Object(u.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],f=Object(n.useState)([]),E=Object(u.a)(f,2),b=E[0],v=E[1],S=Object(n.useState)(!1),h=Object(u.a)(S,2),p=h[0],g=h[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"form"},l.a.createElement("h1",null,"Formul\xe1rio de envio"),l.a.createElement("form",{onSubmit:function(e){d(!0),g(!1),e.preventDefault();var t=new FormData;t.append("file",r);var a={method:"POST",body:t,headers:{Authorization:sessionStorage.getItem("token")}};fetch("http://localhost:8080/upload",a).then(function(e){return e.json()}).then(function(e){if(void 0!==e.statusCode)throw new Error("".concat(e.statusCode," - ").concat(e.message));v(e),g(!0)}).catch(function(e){alert(e)}).finally(function(){d(!1)})}},l.a.createElement("input",{type:"file",name:"file",id:"",accept:".zip",onChange:function(e){return o(e.target.files[0])}}),l.a.createElement("input",{type:"submit",value:"Enviar",id:"button",style:{marginLeft:"1%"}}))),l.a.createElement("div",{className:"tela"},s&&!p?Object(m.a)():p?w(b):l.a.createElement("div",null,l.a.createElement("h1",null,"Recomenda\xe7\xf5es"),l.a.createElement("ul",null,l.a.createElement("li",null,"Escolher arquivo .zip, extens\xe3o .rar e demais n\xe3o s\xe3o compat\xedveis."),l.a.createElement("li",null,"Os arquivos XML devem estar na raiz do arquivo compactado, n\xe3o havendo subpastas."),l.a.createElement("li",null,"Aproveite! \u263a")))))}var H=a(184),D=Object(i.a)();var T=function(){return l.a.createElement(c.a,null,l.a.createElement(D.Navigator,{initialRouteName:"Login",screenOptions:{headerShown:!1}},l.a.createElement(D.Screen,{name:"Tela_Envio",component:C,options:{title:"Tela de envio"}}),l.a.createElement(D.Screen,{name:"Login",component:H.a,options:{title:"P\xe1gina de Login"}})))};o.a.render(l.a.createElement(T,null),document.getElementById("root"))},63:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(0),l=a.n(n);a(113);function r(){return l.a.createElement("div",{className:"tela"},l.a.createElement("div",{className:"cloader"})," ")}}},[[215,1,2]]]);
//# sourceMappingURL=main.716a5953.chunk.js.map