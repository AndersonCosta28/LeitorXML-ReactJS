(this["webpackJsonpleitorarquivoxml-frontend"]=this["webpackJsonpleitorarquivoxml-frontend"]||[]).push([[0],{146:function(e,t,a){e.exports=a(293)},151:function(e,t,a){},152:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},192:function(e,t){},194:function(e,t){},205:function(e,t){},207:function(e,t){},234:function(e,t){},236:function(e,t){},237:function(e,t){},242:function(e,t){},244:function(e,t){},250:function(e,t){},252:function(e,t){},271:function(e,t){},283:function(e,t){},286:function(e,t){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(143),r=a.n(o),c=a(20),i=a(2),s=a(5);a(151),a(152);function u(){return l.a.createElement("div",{className:"centralizar"},l.a.createElement("div",{className:"cloader"}))}var m=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format;function d(){return new Date>=sessionStorage.getItem("FimSessaoMilesegundos")&&(console.log(sessionStorage.getItem("FimSessaoMilesegundos"),new Date),alert("Expirou o tempo da Sess\xe3o, por favor fa\xe7a login novamente para renovar"),!0)}var f=a(144);function E(){a(153).config();var e=Object(n.useState)(!1),t=Object(s.a)(e,2),o=t[0],r=t[1],c=Object(n.useState)(""),m=Object(s.a)(c,2),d=m[0],E=m[1],v=Object(n.useState)(""),b=Object(s.a)(v,2),S=b[0],g=b[1],p=Object(i.f)();return Object(n.useEffect)((function(){return document.getElementById("nomerodape").style.color="black",function(){document.getElementById("nomerodape").style.color="#92badd",E(""),g(""),r(!1)}}),[]),o?u():l.a.createElement("div",{className:"bodylogin"},l.a.createElement("div",{className:"wrapper fadeInDown"},l.a.createElement("div",{id:"formContent"},l.a.createElement("h2",{className:"active"}," Entrar "),l.a.createElement("form",null,l.a.createElement("input",{type:"text",id:"login",className:"fadeIn second",name:"login",placeholder:"Usu\xe1rio",onChange:function(e){return E(e.target.value)}}),l.a.createElement("input",{type:"password",id:"password",className:"fadeIn third",name:"login",placeholder:"Senha",onChange:function(e){return g(e.target.value)}}),l.a.createElement("input",{type:"submit",className:"fadeIn fourth",value:"Log In",onClick:function(){return function(){r(!0);var e={usuario:d,senha:S},t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};fetch("http://localhost:8080/auth/login",t).then((function(e){return e.json()})).then((function(e){if(!e.access_token)throw 403===e.statusCode?new Error("Usu\xe1rio inativo"):new Error(e.message);var t=Object(f.a)(e.access_token);sessionStorage.setItem("token","Bearer "+e.access_token),sessionStorage.setItem("FimSessaoMilesegundos",new Date(1e3*t.exp)),sessionStorage.setItem("FimSessaoDataLocal",new Date(1e3*t.exp).toLocaleTimeString()),sessionStorage.setItem("nome_usuario",t.usuario),p("HomePage")})).catch((function(e){alert(e)})).finally((function(){r(!1)}))}()}})))))}a(156);var v=Object(n.createContext)();function b(e){var t=e.children,a=Object(n.useState)(1),o=Object(s.a)(a,2),r=o[0],c=o[1];return l.a.createElement(v.Provider,{value:{PaginaAtual:r,SetPaginaAtual:c}},t)}function S(){var e=Object(n.useContext)(v);return{PaginaAtual:e.PaginaAtual,SetPaginaAtual:e.SetPaginaAtual}}a(157);function g(){var e=S().SetPaginaAtual,t=Object(n.useRef)(),a=Object(n.useRef)(),o=Object(n.useRef)(),r=Object(i.f)();return Object(n.useEffect)((function(){return a.current.style.top="60vh",function(){}}),[]),l.a.createElement("div",{className:"main"},l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("button",{ref:t,onClick:function(){Array(t.current.classList)[0].value.split(" ").includes("collapsed")?o.current.style.display="none":o.current.style.display=""},className:"btn btn-primary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSideBar","aria-expanded":"false","aria-controls":"collapseSideBar"},"Menu"))),l.a.createElement("div",{style:{minHeight:"120px"}},l.a.createElement("div",{className:"collapse collapse-horizontal",id:"collapseSideBar"},l.a.createElement("div",{className:"card card-body",style:{width:"300px"}},l.a.createElement("ul",{className:"nav nav-pills flex-column mb-auto"},l.a.createElement("li",{className:"PaginaItem",onClick:function(){e(1),t.current.click()}},"Gerar relat\xf3rio de XML's zipado"),l.a.createElement("li",{className:"PaginaItem",onClick:function(){e(2),t.current.click()}},"Comparar lista de valores")),l.a.createElement("hr",null)))),l.a.createElement("div",{className:"dropdown",ref:a},l.a.createElement("span",{style:{cursor:"pointer"},className:"d-flex align-items-center link-dark text-decoration-none dropdown-toggle",id:"dropdownUser2","data-bs-toggle":"dropdown","aria-expanded":"false"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-person-circle",viewBox:"0 0 16 16"},l.a.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})),l.a.createElement("strong",{ref:o,style:{display:"none",marginLeft:"10px"}}," ",sessionStorage.getItem("nome_usuario"))),l.a.createElement("ul",{className:"dropdown-menu text-small shadow","aria-labelledby":"dropdownUser2"},l.a.createElement("li",null,l.a.createElement("span",{className:"dropdown-item",onClick:function(){sessionStorage.clear(),localStorage.clear(),r("/")}},"Sair")))))}a(158),a(159);var p=Object(n.createContext)();function h(e){var t=e.children,a=Object(n.useState)({Loading:!1,Relatorio:!1}),o=Object(s.a)(a,2),r=o[0],c=o[1];return l.a.createElement(p.Provider,{value:{DadosRelatorio:r,SetDadosRelatorio:c}},t)}function x(){var e=Object(n.useContext)(p);return{DadosRelatorio:e.DadosRelatorio,SetDadosRelatorio:e.SetDadosRelatorio}}function y(e){var t=x().DadosRelatorio.Soma_Dia;return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table styled-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Data"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Totais"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.data},l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,m(e.total)))}))),l.a.createElement("tfoot",null)))}function z(e){var t=x().DadosRelatorio.Total_de_erros;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.estilo},l.a.createElement("h3",{className:"titulo"},"Arquivos n\xe3o validados"),l.a.createElement("table",{className:"table styled-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Arquivo"),l.a.createElement("th",null,"Motivos"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.nome},l.a.createElement("td",null,e.nome),l.a.createElement("td",null,e.motivo))}))),l.a.createElement("tfoot",null))))}function N(e){var t=x().DadosRelatorio,a=t.Total,n=t.Total_de_erros;return l.a.createElement("div",{className:e.estilo},l.a.createElement("ul",null,l.a.createElement("li",null,a.quantidade," Notas validados no total de ",m(a.total)),l.a.createElement("li",null,n.length," Notas com erros"),l.a.createElement("li",null,m(a.icms)," ICMS")))}function O(e){var t=x().DadosRelatorio.Soma_CFOP;return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table styled-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"CFOP"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.cfop},l.a.createElement("td",null,e.cfop),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,m(e.total)))}))),l.a.createElement("tfoot",null)))}var C=a(43),w=a(74),j=a.n(w),R=a(145),D=a.n(R);function P(){var e=x().DadosRelatorio;return l.a.createElement("button",{className:"button",style:{display:"inline-block"},title:"Gerar PDF",onClick:function(){return function(e){var t=e.Todas_As_Notas,a=e.Total,n=e.Soma_CFOP,l=e.Todos_Os_Eventos;j.a.vfs=D.a.pdfMake.vfs;var o=l.map((function(e){return[{text:e.numero,fontSize:9,margin:[0,2,0,2]},{text:e.modelo,fontSize:9,margin:[0,2,0,2]},{text:e.serie,fontSize:9,margin:[0,2,0,2]},{text:e.chave,fontSize:9,margin:[0,2,0,2]},{text:e.descEvento,fontSize:9,margin:[0,2,0,2]},{text:e.cStat,fontSize:9,margin:[0,2,0,2]},{text:e.data,fontSize:9,margin:[0,2,0,2]}]})),r={text:"Desenvolvido por Anderson Costa",link:"https://github.com/Mert1s/",color:"blue"},c=t.map((function(e){return[{text:"".concat(e.numero),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.modelo),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.serie),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.chave),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.status),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(e.valor_total)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.data),fontSize:9,margin:[0,2,0,2]}]})),i=n.map((function(e){return[{text:"".concat(e.cfop),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(e.total)),fontSize:9,margin:[0,2,0,2]}]})),s=[[{text:"".concat(a.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.valor_dos_produtos)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.icms)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.outro)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.frete)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.substituicao)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.ipi)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.ipidevolvido)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.desconto)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(m(a.total)),fontSize:9,margin:[0,2,0,2]}]],u=[{text:"Todas as Notas",fontSize:14,margin:[5,5,5,5]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"Serie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Status",style:"tableHeader",fontSize:9},{text:"Valor",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9,alignment:"center"}]].concat(Object(C.a)(c))},layout:"lightHorizontalLines"}],d=[{text:"SOMA POR CFOP",fontSize:14,margin:[5,15,5,0]},{text:"OBS.: Os totais por CFOP n\xe3o \xe9 considerado o desconto no calculo",fontSize:8,italics:!0,margin:[0,0,0,15]},{table:{headerRows:1,widths:["auto","auto","auto"],body:[[{text:"CFOP",style:"tableHeader",fontSize:9},{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9}]].concat(Object(C.a)(i))},layout:"headerLineOnly"}],f=[{text:"Totalizadores",fontSize:14,margin:[0,15,0,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Qntd",style:"tableHeader",fontSize:9},{text:"Valor dos produtos",style:"tableHeader",fontSize:9},{text:"ICMS",style:"tableHeader",fontSize:9},{text:"Outro",style:"tableHeader",fontSize:9},{text:"Frete",style:"tableHeader",fontSize:9},{text:"Substituicao",style:"tableHeader",fontSize:9},{text:"IPI",style:"tableHeader",fontSize:9},{text:"IPI Devolvido",style:"tableHeader",fontSize:9},{text:"Desconto",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9}]].concat(s)},layout:"headerLineOnly"}],E=[{text:"Eventos",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"S\xe9rie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9},{text:"Descri\xe7\xe3o",style:"tableHeader",fontSize:9},{text:"Status",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9}]].concat(Object(C.a)(o))},layout:"headerLineOnly"}],v={info:{title:"Relat\xf3rio de XML",author:"Anderson Costa",subject:"Relat\xf3rio detalhado de importa\xe7\xe3o de XML ",keywords:"Relat\xf3rio XML contabilidade vendas compras"},pageSize:"A4",PageMargins:[5,5,5,5],footer:function(e,t){return{text:["P\xe1gina ".concat(e.toString()," de ").concat(t)," - emitido em ".concat(new Date(Date.now()).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})," - "),r],fontSize:8,margin:[15,15,15,15]}},content:[{text:"Relat\xf3rio",alignment:"center",fontSize:30,margin:[0,5,0,5]},u,E,{unbreakable:!0,stack:[d,f]}]};j.a.createPdf(v).open()}(e)}},"Gerar PDF")}var k=a(42),I=a.n(k),H=I.a.ExcelFile,_=I.a.ExcelFile.ExcelSheet,F=I.a.ExcelFile.ExcelColumn;function A(){var e=x().DadosRelatorio.Todas_As_Notas;return l.a.createElement("div",{className:"App"},l.a.createElement(H,{filename:"Relatorio",element:l.a.createElement("button",null,"Baixar em EXCEL")},l.a.createElement(_,{data:e,name:"Relatorio"},function(e){return Object.keys(e[0]).filter((function(e){return!["desconto","data_recebimento","produto","emitente"].includes(e)}))}(e).map((function(e){return l.a.createElement(F,{label:(t=e,t.substring(0,1).toUpperCase()+t.substring(1)),value:e,key:"numero"});var t})))),l.a.createElement("table",{id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",{key:"numero"},l.a.createElement("th",null,"numero"),l.a.createElement("th",null,"serie"),l.a.createElement("th",null,"modelo"),l.a.createElement("th",null,"chave"),l.a.createElement("th",null,"data"),l.a.createElement("th",null,"status"),l.a.createElement("th",null,"valor"),l.a.createElement("th",null,"ipi"),l.a.createElement("th",null,"vOutro"),l.a.createElement("th",null,"vFrete"),l.a.createElement("th",null,"vBCST"),l.a.createElement("th",null,"vST"),l.a.createElement("th",null,"vBC"),l.a.createElement("th",null,"vICMS"),l.a.createElement("th",null,"vPIS"),l.a.createElement("th",null,"vCOFINS"),l.a.createElement("th",null,"vTotTrib"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{key:e.numero},l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.status),l.a.createElement("td",null,e.valor),l.a.createElement("td",null,e.ipi),l.a.createElement("td",null,e.vOutro),l.a.createElement("td",null,e.vFrete),l.a.createElement("td",null,e.vBCST),l.a.createElement("td",null,e.vST),l.a.createElement("td",null,e.vBC),l.a.createElement("td",null,e.vICMS),l.a.createElement("td",null,e.vPIS),l.a.createElement("td",null,e.vCOFINS),l.a.createElement("td",null,e.vTotTrib))})))))}a(291);function T(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)({Loading:!1,Relatorio:!1}),c=Object(s.a)(r,2),m=c[0],f=c[1],E=x().SetDadosRelatorio,v=Object(i.f)();return l.a.createElement("header",null,l.a.createElement("div",{id:"form",className:"form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,"Formul\xe1rio de envio")),l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"FimSessao"},"Fim da sess\xe3o \xe0s : ",sessionStorage.getItem("FimSessaoDataLocal")))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d()?v("../"):a?(f({Loading:!0,Relatorio:!1}),function(){var e=new FormData;e.append("file",a);var t={method:"POST",body:e,headers:{Authorization:sessionStorage.getItem("token")}};fetch("http://localhost:8080/upload",t).then((function(e){return e.json()})).then((function(e){if(void 0!==e.statusCode)throw new Error("".concat(e.statusCode," - ").concat(e.message));E({Soma_Dia:e[0],Todas_As_Notas:e[1],Total:e[2],Soma_CFOP:e[3],Total_de_erros:e[4],Todos_Os_Eventos:e[5]})})).catch((function(e){alert(e)})).finally((function(){f({Loading:!1,Relatorio:!0})}))}()):alert("Antes de enviar, selecione um arquivo.")}},l.a.createElement("input",{type:"file",name:"file","aria-label":"File browser example",accept:".zip",onChange:function(e){return o(e.target.files[0])}}),l.a.createElement("button",{type:"submit",className:"button botaosubmit",disabled:!!m.Loading},"Enviar"))),l.a.createElement("div",{id:"corpo"},m.Loading?u():m.Relatorio?l.a.createElement("div",null,l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"col"},l.a.createElement(N,{estilo:"col"}),l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("div",{className:"botaoxls",style:{display:"inline-block"}},l.a.createElement(A,null)))),l.a.createElement("div",{className:"col table2"},l.a.createElement(O,null)),l.a.createElement("div",{className:"col table2"},l.a.createElement(y,null))),l.a.createElement("div",{className:"row"},l.a.createElement(z,{estilo:"table1 col"}))):l.a.createElement("div",{className:"Recomendacoes"},l.a.createElement("h1",null,"Recomenda\xe7\xf5es"),l.a.createElement("ul",null,l.a.createElement("li",null,"Escolher arquivo .zip, extens\xe3o .rar e demais n\xe3o s\xe3o compat\xedveis."),l.a.createElement("li",null,"Os arquivos XML devem estar na raiz do arquivo compactado, n\xe3o havendo subpastas."),l.a.createElement("li",null,"Aproveite! ",l.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude00"))))))}a(292);function L(){var e=S().PaginaAtual;function t(){return 1===e?T():2===e?function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),c=Object(s.a)(r,2),u=c[0],m=c[1],f=Object(n.useState)([]),E=Object(s.a)(f,2),v=E[0],b=E[1],S=Object(n.useState)([]),g=Object(s.a)(S,2),p=g[0],h=g[1],x=Object(i.f)();function y(e){if(" "===e);else if(!isNaN(e))return Number(e)}return l.a.createElement("div",{style:{position:"relative",left:"30%"}},l.a.createElement("h1",{className:"titulo"},"Compara o Lado A com o Lado B"),l.a.createElement("div",{className:"Campos"},l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"t1"},l.a.createElement("h3",null,"Lado A"),l.a.createElement("textarea",{name:"ladoA",id:"ladoA",cols:"30",rows:"8",onChange:function(e){return o(e.target.value)}})),l.a.createElement("div",{className:"t1"},l.a.createElement("h3",null,"Lado B"),l.a.createElement("textarea",{name:"ladoB",id:"ladoB",cols:"30",rows:"8",onChange:function(e){return m(e.target.value)}}))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"t1"},l.a.createElement("h3",null,"Contem"),l.a.createElement("textarea",{name:"contem",id:"contem",cols:"30",rows:"8",readOnly:!0,placeholder:"Resultado",value:v})),l.a.createElement("div",{className:"t1"},l.a.createElement("h3",null,"N\xe3o contem"),l.a.createElement("textarea",{name:"naocontem",id:"naocontem",cols:"30",rows:"8",readOnly:!0,placeholder:"Resultado",value:p})))),l.a.createElement("button",{onClick:function(){if(d())x("../");else{var e=0===a.length?[]:a.split("\n").filter((function(e){return y(e)})),t=0===u.length?[]:u.split("\n").filter((function(e){return y(e)})),n=[],l=[];e.forEach((function(e,a){t.includes(e)?n.push(e):l.push(e)})),b(n),h(l)}},className:"BotaoComparar"},"Comparar"))}():void 0}return l.a.createElement("div",{id:"pagina",className:"pagina"},l.a.createElement(g,null),l.a.createElement(t,null))}var B=function(){return l.a.createElement(b,null,l.a.createElement(h,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(E,null)}),l.a.createElement(i.a,{path:"HomePage",element:l.a.createElement(L,null)}))))};r.a.render(l.a.createElement(c.a,null,l.a.createElement(B,null)),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.230aaf48.chunk.js.map