(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,a){e.exports=a(373)},250:function(e,t){},252:function(e,t){},262:function(e,t){},264:function(e,t){},291:function(e,t){},293:function(e,t){},294:function(e,t){},299:function(e,t){},301:function(e,t){},307:function(e,t){},309:function(e,t){},328:function(e,t){},340:function(e,t){},343:function(e,t){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(62),o=a.n(r),c=a(377),i=a(378),u=a(3);a(70);function m(e){var t=e.navigation,a=Object(n.useState)(),r=Object(u.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)(!1),m=Object(u.a)(i,2),d=m[0],E=m[1];return d?l.a.createElement("div",{className:"tela"},l.a.createElement("div",{className:"cloader"})," "):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"form"},l.a.createElement("h1",null,"Formul\xe1rio de envio"),l.a.createElement("form",{onSubmit:function(e){E(!0),e.preventDefault();var a=new FormData;a.append("file",o),fetch("https://leitorxml-backend.herokuapp.com/uploads",{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){if(e.erro)throw e.erro;t.navigate("Relatorio",{DadosDoBackEnd:e})}).catch(function(e){alert(e)}).finally(function(){E(!1)})}},l.a.createElement("input",{type:"file",name:"file",id:"",accept:".zip",onChange:function(e){return c(e.target.files[0])}}),l.a.createElement("input",{type:"submit",value:"Enviar",id:"button"}))),l.a.createElement("div",{className:"tela"},l.a.createElement(s,null)))}function s(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Recomenda\xe7\xf5es"),l.a.createElement("ul",null,l.a.createElement("li",null,"Escolher arquivo .zip, extens\xe3o .rar e demais n\xe3o s\xe3o compat\xedveis."),l.a.createElement("li",null,"Os arquivos XML devem estar na raiz do arquivo compactado, n\xe3o havendo subpastas."),l.a.createElement("li",null,"Aproveite! \u263a")))}var d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format;function E(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Data"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Totais"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.data},l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,d(e.total)))})),l.a.createElement("tfoot",null)))}function f(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.estilo},l.a.createElement("h3",{className:"titulo"},"Arquivos n\xe3o validados"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Arquivo"),l.a.createElement("th",null,"Motivos"))),l.a.createElement("tbody",null,e.erros.map(function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.nome),l.a.createElement("td",null,e.motivo))})),l.a.createElement("tfoot",null))))}function b(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"N\xba"),l.a.createElement("th",null,"Modelo"),l.a.createElement("th",null,"Serie"),l.a.createElement("th",null,"Chave"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Valor"),l.a.createElement("th",null,"Data"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.numero},l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.status),l.a.createElement("td",null,d(e.valor)),l.a.createElement("td",null,e.data))})),l.a.createElement("tfoot",null)))}function v(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("ul",null,l.a.createElement("li",null,e.Dados.quantidade," Notas validados no total de ",d(e.Dados.total)),l.a.createElement("li",null,e.erros.length," Notas com erros"),l.a.createElement("li",null,d(e.Dados.icms)," ICMS")))}function S(e){return l.a.createElement("div",{className:e.estilo},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"CFOP"),l.a.createElement("th",null,"Qntd"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,e.Dados.map(function(e){return l.a.createElement("tr",{key:e.cfop},l.a.createElement("td",null,e.cfop),l.a.createElement("td",null,e.quantidade),l.a.createElement("td",null,d(e.total)))})),l.a.createElement("tfoot",null)))}var h=a(8),x=a(104),p=a.n(x),g=a(181),z=a.n(g);function y(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.estilo},l.a.createElement("h3",{className:"titulo"},"Eventos"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"N\xba"),l.a.createElement("th",null,"Modelo"),l.a.createElement("th",null,"Serie"),l.a.createElement("th",null,"Chave"),l.a.createElement("th",null,"Justificativa"),l.a.createElement("th",null,"Descri\xe7\xe3o"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Data"))),l.a.createElement("tbody",null,e.Eventos.map(function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.xJust),l.a.createElement("td",null,e.descEvento),l.a.createElement("td",null,e.cStat),l.a.createElement("td",null,e.data))})),l.a.createElement("tfoot",null))))}var N=a(30),O=a.n(N);O.a.ExcelFile,O.a.ExcelFile.ExcelSheet,O.a.ExcelFile.ExcelColumn;function D(e){var t=e.route,a=e.navigation,r=Object(n.useState)([]),o=Object(u.a)(r,2),c=o[0],i=o[1],m=Object(n.useState)([]),s=Object(u.a)(m,2),x=s[0],g=s[1],N=Object(n.useState)([]),O=Object(u.a)(N,2),D=O[0],C=O[1],H=Object(n.useState)([]),j=Object(u.a)(H,2),w=j[0],T=j[1],F=Object(n.useState)([]),k=Object(u.a)(F,2),R=k[0],M=k[1],P=Object(n.useState)([]),A=Object(u.a)(P,2),I=A[0],L=A[1];return Object(n.useEffect)(function(){var e=Object(u.a)(t.params.DadosDoBackEnd,6),a=e[0],n=e[1],l=e[2],r=e[3],o=e[4],c=e[5];i(a),C(n),T(l),g(r),M(o),L(c)},[]),l.a.createElement("div",null,l.a.createElement("h1",{className:"titulo"},l.a.createElement("a",{href:"/"},"P\xe1gina inicial")),l.a.createElement("div",{className:"row align-items-center",style:{marginTop:"3%"}},l.a.createElement(S,{Dados:x,estilo:"table1 col-4"}),l.a.createElement(v,{Dados:w,erros:R,estilo:"table1 col "}),l.a.createElement("div",{className:"table1 col"},l.a.createElement("input",{type:"button",value:"Gerar PDF",onClick:function(){return function(e,t,a,n){p.a.vfs=z.a.pdfMake.vfs;var l=n.map(function(e){return[{text:e.numero,fontSize:9,margin:[0,2,0,2]},{text:e.modelo,fontSize:9,margin:[0,2,0,2]},{text:e.serie,fontSize:9,margin:[0,2,0,2]},{text:e.chave,fontSize:9,margin:[0,2,0,2]},{text:e.descEvento,fontSize:9,margin:[0,2,0,2]},{text:e.cStat,fontSize:9,margin:[0,2,0,2]},{text:e.data,fontSize:9,margin:[0,2,0,2]}]}),r={text:"Desenvolvido por Anderson Costa",link:"https://github.com/Mert1s/",color:"blue"},o=e.map(function(e){return[{text:"".concat(e.numero),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.modelo),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.serie),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.chave),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.status),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(e.valor)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.data),fontSize:9,margin:[0,2,0,2]}]}),c=a.map(function(e){return[{text:"".concat(e.cfop),fontSize:9,margin:[0,2,0,2]},{text:"".concat(e.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(e.total)),fontSize:9,margin:[0,2,0,2]}]}),i=[[{text:"".concat(t.quantidade),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.total)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.icms)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.outro)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.frete)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.substituicao)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.ipi)),fontSize:9,margin:[0,2,0,2]},{text:"".concat(d(t.desconto)),fontSize:9,margin:[0,2,0,2]}]],u=[{text:"Todas as Notas",fontSize:14,margin:[5,5,5,5]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"Serie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9,alignment:"center"},{text:"Status",style:"tableHeader",fontSize:9},{text:"Valor",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9,alignment:"center"}]].concat(Object(h.a)(o))},layout:"lightHorizontalLines"}],m=[{text:"SOMA POR CFOP",fontSize:14,margin:[5,5,5,15]},{table:{headerRows:1,widths:["auto","auto","auto"],body:[[{text:"CFOP",style:"tableHeader",fontSize:9},{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9}]].concat(Object(h.a)(c))},layout:"headerLineOnly"}],s=[{text:"Totalizadores",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Quantidade",style:"tableHeader",fontSize:9},{text:"Total",style:"tableHeader",fontSize:9},{text:"ICMS",style:"tableHeader",fontSize:9},{text:"Outro",style:"tableHeader",fontSize:9},{text:"Frete",style:"tableHeader",fontSize:9},{text:"Substituicao",style:"tableHeader",fontSize:9},{text:"IPI",style:"tableHeader",fontSize:9},{text:"Desconto",style:"tableHeader",fontSize:9}]].concat(i)},layout:"headerLineOnly"}],E={info:{title:"Relat\xf3rio de XML",author:"Anderson Costa",subject:"Relat\xf3rio detalhado de importa\xe7\xe3o de XML ",keywords:"Relat\xf3rio XML contabilidade vendas compras"},pageSize:"A4",PageMargins:[5,5,5,5],footer:function(e,t){return{text:["P\xe1gina ".concat(e.toString()," de ").concat(t)," - emitido em ".concat(new Date(Date.now()).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})," - "),r],fontSize:8,margin:[15,15,15,15]}},content:[{text:"Relat\xf3rio",alignment:"center",fontSize:30,margin:[5,5,5,5]},u,[{text:"Eventos",fontSize:14,margin:[5,15,5,15]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto","auto"],body:[[{text:"Numero",style:"tableHeader",fontSize:9},{text:"Modelo",style:"tableHeader",fontSize:9},{text:"S\xe9rie",style:"tableHeader",fontSize:9},{text:"Chave",style:"tableHeader",fontSize:9},{text:"Descri\xe7\xe3o",style:"tableHeader",fontSize:9},{text:"Status",style:"tableHeader",fontSize:9},{text:"Data",style:"tableHeader",fontSize:9}]].concat(Object(h.a)(l))},layout:"headerLineOnly"}],{unbreakable:!0,stack:[m,s]}]};p.a.createPdf(E).open()}(D,w,x,I)}})),l.a.createElement("div",{className:"table1 col"},l.a.createElement("input",{type:"button",value:"Gerar XLS",onClick:function(){return a.navigate("xls",{Todas_As_Notas:D})}})),l.a.createElement("div",{className:"table1 col"},l.a.createElement("input",{type:"button",value:"Teste",onClick:function(){return a.navigate("TelaTeste",{Todas_As_Notas:D})}}))),l.a.createElement("div",{className:"row align-items-center"},l.a.createElement(E,{Dados:c,estilo:"table1 col-4"}),l.a.createElement(b,{Dados:D,estilo:"table2 col"})),l.a.createElement("div",{className:"row"},l.a.createElement(y,{Eventos:I,estilo:"table2 col"})),l.a.createElement("div",{className:"row"},l.a.createElement(f,{erros:R,estilo:"table2 col"})))}var C=O.a.ExcelFile,H=O.a.ExcelFile.ExcelSheet,j=O.a.ExcelFile.ExcelColumn;function w(e){var t=e.route,a=(e.navigation,t.params.Todas_As_Notas);return l.a.createElement("div",{className:"App"},l.a.createElement(C,{filename:"Relatorio"},l.a.createElement(H,{data:a,name:"Relatorio"},function(e){var t=Object.keys(e[0]);return console.log(t),t.filter(function(e){return!["desconto","data_recebimento","produto","emitente"].includes(e)})}(a).map(function(e){return console.log(e),l.a.createElement(j,{label:(t=e,t.substring(0,1).toUpperCase()+t.substring(1)),value:e});var t}))),l.a.createElement("table",{id:"table-to-xls"},l.a.createElement("thead",null,l.a.createElement("tr",{key:"numero"},l.a.createElement("th",null,"numero"),l.a.createElement("th",null,"serie"),l.a.createElement("th",null,"modelo"),l.a.createElement("th",null,"chave"),l.a.createElement("th",null,"data"),l.a.createElement("th",null,"status"),l.a.createElement("th",null,"valor"),l.a.createElement("th",null,"ipi"),l.a.createElement("th",null,"vOutro"),l.a.createElement("th",null,"vFrete"),l.a.createElement("th",null,"vBCST"),l.a.createElement("th",null,"vST"),l.a.createElement("th",null,"vBC"),l.a.createElement("th",null,"vICMS"),l.a.createElement("th",null,"vPIS"),l.a.createElement("th",null,"vCOFINS"),l.a.createElement("th",null,"vTotTrib"))),l.a.createElement("tbody",null,a.map(function(e){return l.a.createElement("tr",{key:e.numero},l.a.createElement("td",null,e.numero),l.a.createElement("td",null,e.serie),l.a.createElement("td",null,e.modelo),l.a.createElement("td",null,e.chave),l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.status),l.a.createElement("td",null,e.valor),l.a.createElement("td",null,e.ipi),l.a.createElement("td",null,e.vOutro),l.a.createElement("td",null,e.vFrete),l.a.createElement("td",null,e.vBCST),l.a.createElement("td",null,e.vST),l.a.createElement("td",null,e.vBC),l.a.createElement("td",null,e.vICMS),l.a.createElement("td",null,e.vPIS),l.a.createElement("td",null,e.vCOFINS),l.a.createElement("td",null,e.vTotTrib))}))))}var T=Object(i.a)();var F=function(){return l.a.createElement(c.a,null,l.a.createElement(T.Navigator,{initialRouteName:"Tela_Envio",screenOptions:{headerShown:!1}},l.a.createElement(T.Screen,{name:"Tela_Envio",component:m}),l.a.createElement(T.Screen,{name:"Relatorio",component:D}),l.a.createElement(T.Screen,{name:"xls",component:w})))};o.a.render(l.a.createElement(F,null),document.getElementById("root"))},70:function(e,t,a){}},[[213,1,2]]]);
//# sourceMappingURL=main.2ee04dc9.chunk.js.map